<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Başlık</title>
<link rel="shortcut icon" href="../assets/problemdede.svg">
<link rel="stylesheet" href="../assets/style.css"> 
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

<div id="toolbar">
    <div class="toolbar-group">
        <img src="../assets/problemdede.svg" alt="Kaydet" id="svgIconSave" class="toolbar-svg-icon">
    </div>

    <div class="toolbar-group">
        <button id="pen"><i class="fa-solid fa-pen"></i></button>
        <input type="color" id="colorPicker" value="#ff0000" title="Kalem Rengi">
        
        <div class="dropdown" id="penSizeDropdown">
          <button class="dropbtn" id="penSizeBtn">
            <span class="circle" style="background:#ff0000;"></span> 
          </button>
          <div class="dropdown-content" id="penOptions"></div>
        </div>

        <button id="undoBtn" title="Geri Al (Undo)"><i class="fa-solid fa-rotate-left"></i></button> 
        <button id="redoBtn" title="Yinele (Redo)"><i class="fa-solid fa-rotate-right"></i></button>


        <button id="eraser"><i class="fa-solid fa-eraser"></i></button>
        
        <div class="dropdown" id="eraserSizeDropdown">
          <button class="dropbtn" id="eraserSizeBtn">
            <span class="circle" style="background:#aaa;"></span>
          </button>
          <div class="dropdown-content" id="eraserOptions"></div>
        </div>

        <button id="clearAll" title="Tüm Çizimleri Sil"><i class="fa-solid fa-trash-can"></i></button>
    </div>
    
    <div class="toolbar-group">
        <button id="lineTool" title="Çizgi"><i class="fa-solid fa-minus"></i></button>
        <button id="rectTool" title="Dikdörtgen"><i class="fa-regular fa-square"></i></button>
        <button id="circleTool" title="Daire"><i class="fa-regular fa-circle"></i></button>
        
        <button id="fillToggle" title="Dolgu Aç/Kapa" class="active">
            <i class="fa-solid fa-square-full"></i>
        </button>
    </div>

    <div class="toolbar-group">
        <button id="handTool" title="Sayfayı Kaydır (El Aracı)"><i class="fa-solid fa-hand-paper"></i></button>
        
        <button id="zoomIn"><i class="fa-solid fa-magnifying-glass-plus"></i></button>
        <button id="zoomOut"><i class="fa-solid fa-magnifying-glass-minus"></i></button>

        <button id="fullscreen"><i class="fa-solid fa-expand"></i></button>
        <button id="savePDF"><i class="fa-solid fa-download"></i></button>
    </div>

    <div class="toolbar-group">
        <button id="prevPage">◀</button>
        <span id="pageInfo">1 / 1</span>
        <button id="nextPage">▶</button>
    </div>

    <div class="toolbar-group">
        <input type="number" id="pageNumberInput" min="1" value="1" style="width: 50px; text-align: center;">
        <button id="goToPageBtn" title="Sayfaya Git"><i class="fa-solid fa-right-to-bracket"></i></button>
    </div>


</div>

<div id="container">
    <canvas id="pdfCanvas"></canvas>
    <canvas id="drawCanvas"></canvas>
</div>

<div id="loadingOverlay" style="display:none;">PDF kaydediliyor...</div>

<script src="../assets/pdf-editor.js"></script>

<script>
    const defaultPdfUrl = "./pdfs/5_1_1_1.pdf";
    
    // Yalnızca PDF URL'sini değiştirerek başka bir dosyayı yükleyebilirsiniz
    initializePdfEditor(defaultPdfUrl, "container"); 

    // Not: Birden fazla editör eklemek isterseniz, yeni bir <div id="container2"> yapısı kurup 
    // initializePdfEditor("yeni-pdf.pdf", "container2"); şeklinde çağırabilirsiniz.
</script>
</body>
</html>
